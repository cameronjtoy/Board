{"ast":null,"code":"var _jsxFileName = \"/Users/camerontoy/Job Tracker Web App/CareerHub/careerhub/frontend/src/components/Buttons/Cell.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./Cell.css\";\nimport { on } from \"../../../../backend/models/User\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TableCell = _ref => {\n  _s();\n  var _columnMeta$options;\n  let {\n    getValue,\n    row,\n    column,\n    table\n  } = _ref;\n  const initialValue = getValue();\n  const columnMeta = column.columnDef.meta;\n  const tableMeta = table.options.meta;\n  const [value, setValue] = useState(initialValue);\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n  const onBlur = () => {\n    var _table$options$meta;\n    (_table$options$meta = table.options.meta) === null || _table$options$meta === void 0 ? void 0 : _table$options$meta.updateData(row.index, column.id, value);\n  };\n  const onSelectChange = e => {\n    setValue(e.target.value);\n    tableMeta === null || tableMeta === void 0 ? void 0 : tableMeta.updateData(row.index, column.id, e.target.value);\n  };\n  const handleKeyDown = async e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      onBlur();\n      try {\n        axios.post(\"http://localhost:8080/api/profile\", tableMeta === null || tableMeta === void 0 ? void 0 : tableMeta.editedRows, {\n          withCredentials: true\n        }).then(res => {\n          console.log(res.data);\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n  return (columnMeta === null || columnMeta === void 0 ? void 0 : columnMeta.type) === \"select\" ? /*#__PURE__*/_jsxDEV(\"select\", {\n    onChange: onSelectChange,\n    value: initialValue,\n    children: columnMeta === null || columnMeta === void 0 ? void 0 : (_columnMeta$options = columnMeta.options) === null || _columnMeta$options === void 0 ? void 0 : _columnMeta$options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: option.value,\n      children: option.label\n    }, option.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n    value: value,\n    onChange: e => setValue(e.target.value),\n    onBlur: onBlur,\n    onKeyDown: handleKeyDown,\n    type: (columnMeta === null || columnMeta === void 0 ? void 0 : columnMeta.type) || \"text\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(TableCell, \"tWiMN+R1KrlPc+I/v9D+hnPBFtc=\");\n_c = TableCell;\nexport default TableCell;\nvar _c;\n$RefreshReg$(_c, \"TableCell\");","map":{"version":3,"names":["React","useState","useEffect","axios","on","jsxDEV","_jsxDEV","TableCell","_ref","_s","_columnMeta$options","getValue","row","column","table","initialValue","columnMeta","columnDef","meta","tableMeta","options","value","setValue","onBlur","_table$options$meta","updateData","index","id","onSelectChange","e","target","handleKeyDown","key","preventDefault","post","editedRows","withCredentials","then","res","console","log","data","err","type","onChange","children","map","option","label","fileName","_jsxFileName","lineNumber","columnNumber","onKeyDown","_c","$RefreshReg$"],"sources":["/Users/camerontoy/Job Tracker Web App/CareerHub/careerhub/frontend/src/components/Buttons/Cell.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport \"./Cell.css\"\nimport { on } from \"../../../../backend/models/User\";\n\n\n\nconst TableCell = ({ getValue, row, column, table }) => {\n    const initialValue = getValue()\n    const columnMeta = column.columnDef.meta;\n    const tableMeta = table.options.meta;\n    const [value, setValue] = useState(initialValue)\n\n    useEffect(() => \n    {setValue(initialValue)\n    }, [initialValue])\n\n    const onBlur = () => {\n        table.options.meta?.updateData(row.index, column.id, value)\n    }\n\n    const onSelectChange = (e) => {\n        setValue(e.target.value);\n        tableMeta?.updateData(row.index, column.id, e.target.value);\n    };\n\n    const handleKeyDown = async (e) => {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n            onBlur();\n            try{\n                axios.post(\"http://localhost:8080/api/profile\", tableMeta?.editedRows, {withCredentials:true}).then((res) => {\n                    console.log(res.data);\n                }\n                );\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    };\n\n\n    return columnMeta?.type === \"select\" ? (\n        <select onChange={onSelectChange} value={initialValue}>\n        {columnMeta?.options?.map((option) => (\n            <option key={option.value} value={option.value}>{option.label}</option>\n        ))}\n        </select>\n        ) : (\n        <input\n            value={value}\n            onChange={(e) => setValue(e.target.value)}\n            onBlur={onBlur}\n            onKeyDown={handleKeyDown}\n            type={columnMeta?.type || \"text\"}\n        />\n    );\n}\n\nexport default TableCell;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}